<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">
<head>
  <th:block th:include="layout :: head"></th:block>
  <title>Управление пользователями</title>
</head>
<body>
  <div class="container">
    <header th:include="layout :: header"></header>

    <div class="full-wrapper">

      <div class="content">
        <!--/*@thymesVar id="users" type="com.alamega.alamegaspringapp.user.User[]"*/-->
        <div th:each="user : ${users}">
          <div class="user-card">
            <p>ID: <span th:text="${user.getId()}"></span></p>
            <p>
              Ник:<a th:text="${user.getUsername()}" th:href="@{'/users/'+${user.getUsername()}}"></a>
              Роль: <span th:text="${user.getRole()}"></span>
            </p>
            <form style="width: 100%" th:action="@{'/admin/users/role/'+${user.getId()}}" method="post">
              <button class="button" style="width: 100%; padding: 8px">Сменить роль</button>
            </form>
            <form style="width: 100%" th:action="@{'/admin/users/delete/'+${user.getId()}}" method="post">
              <button class="button-delete" style="margin:0; width: 100%">Удалить</button>
            </form>
          </div>
        </div>
      </div>

      <div class="sidebar">
        <div th:replace="layout :: sidebar"></div>
      </div>
    </div>

    <footer th:include="layout :: footer"></footer>
  </div>
</body>
</html>
