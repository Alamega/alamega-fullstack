<!DOCTYPE html>
<html lang="ru" xmlns:th="http://www.thymeleaf.org">

  <head>
    <title>Сайтик</title>
    <th:block th:include="layout :: head"></th:block>
  </head>

  <body>
    <div class="container">
      <header th:replace="layout :: header"></header>

      <div class="content">
        <div id="clock">Где я потерял свои часы?</div>
        <script src="/scripts/clock.js"></script>

        <div th:if="!${#httpServletRequest.getRemoteUser()}" class="auth-bar">
          <a href="/login">Логин</a>
          <a href="/registration">Регистрация</a>
        </div>

        <div th:if="${#httpServletRequest.getRemoteUser()}" class="auth-bar">
          <span th:inline="text">Здравствуйте,
            <a style="margin: 0" th:href="@{'/users/'+${#httpServletRequest.getRemoteUser()}}" th:if="${#httpServletRequest.getRemoteUser()}">
              [[${user.getUsername()}]]
            </a>!
          </span>
          <form class="form_center" th:action="@{/logout}" th:method="post" th:if="${#httpServletRequest.getRemoteUser()}">
            <button class="btn-to-a">Выход</button>
          </form>
        </div>

        <button class="button" onclick="window.location.href = '/admin'" th:if="${user!=null && user.getRole() == 'ADMIN'}">Админка</button>
      </div>

      <footer th:replace="layout :: footer"></footer>
    </div>
  </body>
</html>
